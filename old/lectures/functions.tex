\documentclass[%
pdf,
neil,
colorBG,
slideColor,
]{prosper}
\usepackage{amsmath}
\usepackage{pstricks,pst-node,pst-text,pst-3d,pst-plot}
\usepackage[usenames,dvips]{color}

\input{lectmac}
\title{General theory of functions}
\author{}

\begin{document}

\slideCaption{\color{white}}

%\maketitle

\begin{slide}{}
 {\Huge
  \vspace{6ex}
  \begin{center}
   General theory of functions
  \end{center}
 }
\end{slide}

\overlays{9}{
\begin{slide}{Introduction}
\fromSlide{2}{\noindent{\bf Key ideas:}
\setcounter{item@step}{2}
\begin{itemstep}
 \item Mathematical operations are functions.
 \item The domain, codomain and range of a function.
 \item The composite of two functions.
 \item The inverse of a function.
\end{itemstep}
}

\fromSlide{6}{
\noindent{\bf Skills to learn or practice:}
\setcounter{item@step}{6}
\begin{itemstep}
 \item Decide whether a function definition is valid
 \item Find the range of a function
 \item Find composites and inverses.
\end{itemstep}
}
\end{slide}
}

\overlays{15}{
\begin{slide}{Functions}
\begin{itemize}
 \fromSlide{2}{
  \item Let $A$ and $B$ be sets.  A \DEFN{function} $f\:A\xra{}B$ is
   an 
   \onlySlide*{2}{unambiguous}
   \fromSlide*{3}{\EMPH{unambiguous}}
   rule that gives an element 
   \onlySlide*{2}{$f(a)\in B$}
   \fromSlide*{3}{$f(a)\RED{\in B}$}
   for 
   \onlySlide*{2}{every}
   \fromSlide*{3}{\EMPH{every}}
   element $a\in A$.
 }
 \fromSlide{4}{
  \item The set $A$ is the \DEFN{domain} of $f$, and $B$ is the
   \DEFN{codomain}.  Often (but not always) they are subsets of $\R$.}
 \fromSlide{5}{
  \item \ghost \vspace{-2ex}
   {\tiny \[ \begin{array}{rlcrl}
    \fromSlide{5}{f\:\R }&
    \fromSlide{5}{\xra{}(0,\infty)}&\hspace{1em}&
    \fromSlide{5}{f(x)}&
    \fromSlide{5}{=1+x^2\hphantom{mmmmmmm}} \\
    \fromSlide{6}{g\:\R}&
    \fromSlide{6}{\xra{}\R^3}&&
    \fromSlide{6}{g(t)}&
    \fromSlide{6}{=(at,b\cos(\om t),b\sin(\om t))}\\
    \fromSlide{7}{h\:\R^2\sm\{(0,0)\}}&
    \fromSlide{7}{\xra{}\R}&&
    \fromSlide{7}{h(x,y)}&
    \fromSlide{7}{=\log(x^2+y^2)}
   \end{array} \]} \vspace{-2ex}}
 \fromSlide{8}{
  \item The domain and codomain are part of the definition of the
   function. If we define $f_1\:\R\xra{}\R$ and
   $f_2\:[0,1]\xra{}[0,1]$ by the same rule $x\mapsto x^2$, then $f_1$
   and $f_2$ are, strictly speaking, different functions. }
 \fromSlide{9}{
  \item The following rules \EMPH{do not} define functions:
  \fromSlide{10}{
   \begin{itemize}
    \fromSlide{10}{
     \item $A=B=\R$, $f(x)=(1+x)/(1-x)$. 
      \fromSlide{11}{(\RED{What is $f(1)$?})}}
    \fromSlide{12}{
     \item $A=\R$, $B=\Z$, $g(x)=\text{ the closest integer to $x$ }$
      \fromSlide{13}{(\RED{What is $g(1/2)$?})}}
    \fromSlide{14}{
     \item $A=B=[0,1]$, $h(x)=5x(1-x)$
      \fromSlide{15}{(\RED{$h(1/2)=5/4\not\in B$})}}
   \end{itemize}
  }
 }
\end{itemize}
\end{slide}
}

\overlays{8}{%
\begin{slide}{Examples of functions}
\begin{itemize}
\fromSlide{2}{
 \item $\text{gray}\:\{0,1,2,\ldots,7\}\xra{}\{0,1,2,\ldots,7\}$
  \vspace{-2ex}
  \fromSlide{3}{\tiny \[ \begin{array}{cccc}
   \text{gray}(0)=0 & \text{gray}(1)=1 &
   \text{gray}(2)=3 & \text{gray}(3)=2 \\
   \text{gray}(4)=6 & \text{gray}(5)=7 &
   \text{gray}(6)=5 & \text{gray}(7)=4
  \end{array} \]} \vspace{-2ex}}
\fromSlide{4}{
 \item $M=\{\text{all $2\tm 2$ matrices of real numbers}\}$ 
  \fromSlide{5}{
   \vspace{-1ex} \[ \det\:M\xra{}\R \hspace{2em} 
     \det\bsm a & b \\ c & d\esm = ad-bc.
   \]} \vspace{-3ex}}
\fromSlide{6}{
 \item $\text{floor}\:\R\xra{}\Z$ 
  \fromSlide{7}{
   \vspace{-1ex}\[ \text{floor}(x) = \lfloor x\rfloor =
       \text{ the largest integer $n$ such that $n\leq x$. } \]}
  \fromSlide*{8}{
   \begin{center}
    $\tiny\begin{array}{rl}
    \text{floor}(-3.5) &=-4\\
    \text{floor}(-2)   &=-2\\
    \text{floor}(1.99) &=1\\
    \text{floor}(2.01) &=2
    \end{array}$
    \psset{unit=0.25cm}
    \begin{pspicture}[.5](-9,-4)(4,4)
     \psaxes[labels=none,linewidth=0.1pt]{->}(0,0)(-4,-4)(4,4)
     \multips(-4,-4)(1,1){8}{
      \psline[linecolor=red,arrows=*-,linewidth=0.2pt](0,0)(1,0)
      \psline[linecolor=red,linestyle=dotted,linewidth=0.1pt](1,0)(1,1)}
    \end{pspicture}
   \end{center}
  }
}
\end{itemize} 
\end{slide}
}

\overlays{12}{%
\begin{slide}{Composition}
\begin{itemize}
 \fromSlide{2}{
  \item Suppose we have functions $f\:A\xra{}B$ and $g\:B\xra{}C$}
 \fromSlide{3}{
  \item We then define a function
   \DEFN{$h=g\circ f\:A\xra{}C$} by $h(a)=g(f(a))$
   \fromSlide{4}{
    \begin{center}\psset{unit=0.6cm}\begin{pspicture}(-4,-1)(4,1)
     \rput(-4, 0){$A$} \rput(0, 0){$B$}    \rput(4, 0){$C$} 
     \rput(-4,-1){$a$} \rput(0,-1){$f(a)$} \rput(4,-1){$g(f(a))$} 
     \psline[linewidth=.2pt,arrows=->](-3.5, 0)(-0.5, 0)
     \psline[linewidth=.2pt,arrows=->](+0.5, 0)(+3.5, 0)
     \rput(-2,.5){$f$}
     \rput(+2,.5){$g$}
     \psline[linewidth=.2pt,arrows=|->](-3.5,-1)(-0.7,-1)
     \psline[linewidth=.2pt,arrows=|->](+0.7,-1)(+2.9,-1)
    \end{pspicture}\end{center}}
   \fromSlide{5}{
    This is called the \DEFN{composite} of $f$ and $g$.}
 }
 \fromSlide{6}{
  \item {\bf Example:} If we define
   $\R\xra{f}\R^3\xra{g}\R$ and $\R\xra{h}\R$ by \\
   \fromSlide{7}{$f(t)=(1,t,t^2)$ and $g(x,y,z)=x+2y+z$ and $h(t)=(1+t)^2$ then} \\
   \fromSlide{8}{$(g\circ f)(t)=1+2t+t^2=h(t)$, so $g\circ f=h$.}
 }
 \fromSlide{9}{
  \item Define $f,g,h\:\R\xra{}\R$ by $f(x)=x+1$, $g(x)=2x$, $h(x)=x/2$.\\
   \fromSlide{10}{
    Then $(f\circ f)(x)=f(f(x))=(x+1)+1=x+2$\\}
   \fromSlide{11}{
    and $(g\circ f\circ h)(x)=g(f(h(x)))=2f(x/2)=2(x/2+1)=x+2$\\}
   \fromSlide{12}{
    so $g\circ f\circ h=f\circ f$.}}
\end{itemize} 
\end{slide}
}

\overlays{13}{%
\begin{slide}{Inversion}
\begin{itemize}
 \fromSlide{2}{
  \item Suppose we have a function $f\:A\xra{}B$.}
 \fromSlide{3}{
  \item An \DEFN{inverse} for $f$ is a function $g\:B\xra{}A$ such
   that \\
   $g(f(a))=a$ for %
   \onlySlide*{3}{all}\fromSlide*{4}{\EMPH{all}} %
   $a\in A$, %
   \onlySlide*{3}{and}\fromSlide*{4}{\EMPH{\underline{AND}}} %
   $f(g(b))=b$ for %
   \onlySlide*{3}{all}\fromSlide*{4}{\EMPH{all}} %
   $b\in B$.}
 \fromSlide{5}{
  \item Define $f,g\:\R\xra{}\R$ by $f(x)=8x+1$ and
  $g(y)=(y-1)/8$. %
  \fromSlide{6}{Then\\
   $g(f(x))=(f(x)-1)/8=(8x\RED{+1-1})/8=x$}%
  \fromSlide{7}{, and\\ $f(g(y))=8g(y)+1=8(y-1)/8+1=y$}%
  \fromSlide{8}{, so $g$ is inverse to $f$.}
 }
 \fromSlide{9}{
  \item Many functions do not have inverses.  For $f\:A\xra{}B$ to
   have an inverse:
   \begin{itemize}
    \fromSlide{10}{
     \item $f$ must not merge distinct values together:\\
      if $a_0\neq a_1$, then $f(a_0)\neq f(a_1)$.}
    \fromSlide{11}{
     \item $f$ must take every value in its codomain:\\
      if $b\in B$, then there is some $a\in A$ such that $b=f(a)$.}
   \end{itemize}}
 \fromSlide{12}{
  \item Many functions have inverses only if we specify the (co)domain
   in the right way:
   $\sin\:[{\scriptstyle -\frac{\pi}{2}},{\scriptstyle \frac{\pi}{2}}]
    \xra{}[-1,1]$ has one, but $\sin\:\R\xra{}\R$ does not.
 }
 \fromSlide{13}{
  \item The inverse of $f$ is often called $f^{-1}$.  Note, however,
   that $f^{-1}(x)\RED{\neq}f(x)^{-1}=1/f(x)$ in general.
 }
\end{itemize} 
\end{slide}
}

\overlays{5}{%
\begin{slide}{Graphs of inverses}
\begin{itemize}
 \fromSlide{2}{
  \item \parbox[t]{8cm}{
   For $f\:[a,b]\xra{}[c,d]$ to have an inverse, the graph of $f(x)$
   must cross every horizontal line between $c$ and $d$ precisely once.
   } \hspace{2em}
   \psset{unit=1.5cm}
   \begin{pspicture}[.8](0,-.2)(1,1)
    \psset{linewidth=.1pt}
    \psaxes[labels=none,ticksize=0pt](0,0)(0,0)(1,1)
    \psplot[linecolor=red]{.2}{.9}{%
     3.175 x mul -3.810 add x mul 1.635 add x mul 0.1 add}
    \psset{linecolor=blue}
    \psline(.2,-.05)(.2,.3)(-.05,.3)
    \psline(.9,-.05)(.9,.8)(-.05,.8)
    \psset{linecolor=OliveGreen}
    \psline(0,.4)(1,.4)
    \psline(0,.5)(1,.5)
    \psline(0,.6)(1,.6)
    \psline(0,.7)(1,.7)
    \rput[t](.2,-.1){\tiny $\scriptstyle a$}
    \rput[t](.9,-.1){\tiny $\scriptstyle b$}
    \rput[r](-.1,.3){\tiny $\scriptstyle c$}
    \rput[r](-.1,.8){\tiny $\scriptstyle d$}
   \end{pspicture}
 }
 \fromSlide{3}{
  \item \parbox[t]{8cm}{
   The graph of $f^{-1}(x)$ is then obtained by flipping over the
   graph of $f(x)$, so as to exchange the two axes.
   } \hspace{2em}
   \psset{unit=1.5cm}
   \begin{pspicture}[.8](0,-.2)(1,1)
    \psset{linewidth=.1pt}
    \psaxes[labels=none,ticksize=0pt](0,0)(0,0)(1,1)
    \parametricplot[linecolor=red]{.2}{.9}{%
     3.175 t mul -3.810 add t mul 1.635 add t mul 0.1 add t}
    \psset{linecolor=blue}
    \psline(.3,-.05)(.3,.2)(-.05,.2)
    \psline(.8,-.05)(.8,.9)(-.05,.9)
    \psset{linecolor=OliveGreen}
    \psline(.4,0)(.4,1)
    \psline(.5,0)(.5,1)
    \psline(.6,0)(.6,1)
    \psline(.7,0)(.7,1)
    \rput[r](-.1,.2){\tiny $\scriptstyle a$}
    \rput[r](-.1,.9){\tiny $\scriptstyle b$}
    \rput[t](.3,-.1){\tiny $\scriptstyle c$}
    \rput[t](.8,-.1){\tiny $\scriptstyle d$}
   \end{pspicture}
 }
 \fromSlide{4}{
  \item \parbox[t]{8cm}{
    Here $f^{-1}(u)$ should be a number $x\in[a,b]$ with $f(x)=u$; but
    there is no such $x$, so $f^{-1}(u)$ is undefined.
   } \hspace{2em}
   \psset{unit=1.5cm}
   \begin{pspicture}[.8](0,-.2)(1,1)
    \psset{linewidth=.1pt}
    \psaxes[labels=none,ticksize=0pt](0,0)(0,0)(1,1)
    \psplot[linecolor=red]{.2}{.9}{%
     1.905 x mul -2.286 add x mul 0.981 add x mul 0.180 add}
    \psset{linecolor=blue}
    \psline(.2,-.05)(.2,.3)(-.05,.3)
    \psline(.9,-.05)(.9,.8)(-.05,.8)
    \psset{linecolor=OliveGreen}
    \psline(0,.4)(1,.4)
    \psline(0,.5)(1,.5)
    \psline(0,.6)(1,.6)
    \psline(-.05,.7)(1,.7)
    \rput[t](.2,-.1){\tiny $\scriptstyle a$}
    \rput[t](.9,-.1){\tiny $\scriptstyle b$}
    \rput[r](-.1,.3){\tiny $\scriptstyle c$}
    \rput[br](-.1,.8){\tiny $\scriptstyle d$}
    \rput[tr](-.1,.7){\tiny $\scriptstyle u$}
   \end{pspicture}
 }
 \fromSlide{5}{
  \item \parbox[t]{8cm}{
    Here $f(p)=f(q)=f(r)=v$, so it is unclear whether $f^{-1}(v)$
    should be $p$, $q$ or $r$.  Thus, $f^{-1}(v)$ is not unambiguously
    defined. 
   } \hspace{2em}
   \psset{unit=1.5cm}
   \begin{pspicture}[.8](0,-.2)(1,1)
    \psset{linewidth=.1pt}
    \psaxes[labels=none,ticksize=0pt](0,0)(0,0)(1,1)
    \psplot[linecolor=red]{.2}{.9}{%
     11.905 x mul -19.643 add x mul 10.060 add x mul -1.021 add}
    \psset{linecolor=blue}
    \psline(.2,-.05)(.2,.3)(-.05,.3)
    \psline(.9,-.05)(.9,.8)(-.05,.8)
    \psset{linecolor=OliveGreen}
    \psline(-.05,.55)(1,.55)
    \psset{linecolor=magenta}
    \psline(0.30,-.05)(0.30,.55)
    \psline(0.55,-.05)(0.55,.55)
    \psline(0.80,-.05)(0.80,.55)
    \rput[t](.2,-.1){\tiny $\scriptstyle a$}
    \rput[tl](.3,-.1){\tiny $\scriptstyle p$}
    \rput[t](.55,-.1){\tiny $\scriptstyle q$}
    \rput[tr](.8,-.1){\tiny $\scriptstyle r$}
    \rput[t](.9,-.1){\tiny $\scriptstyle b$}
    \rput[r](-.1,.3){\tiny $\scriptstyle c$}
    \rput[r](-.1,.8){\tiny $\scriptstyle d$}
    \rput[r](-.1,.55){\tiny $\scriptstyle v$}
   \end{pspicture}
 }
\end{itemize}
\end{slide}
}

\overlays{10}{%
\begin{slide}{Finding inverses}
\begin{itemize}
 \fromSlide{2}{
  \item Suppose we have a function $f\:A\xra{}B$. To find an inverse:}
 \fromSlide{3}{
  \begin{itemize}
   \fromSlide{3}{\item Write $y=f(x)$, then rearrange this to express
    $x$ in terms of $y$.} 
   \fromSlide{4}{\item Suppose that this can be done in a way that is
    meaningful, unambiguous, and contained in $A$, for all $y\in B$;\\
    then $x=g(y)$, where $g\:B\xra{}A$ is probably inverse to $f$\\
    (\RED{but this should still be checked}).}
   \fromSlide{5}{\item Otherwise, $f\:A\xra{}B$ does not have an
    inverse.}
  \end{itemize}}
 \fromSlide{6}{
  \item Consider $f\:(0,\infty)\xra{}(0,\infty)$ given by
   $f(x)=e^x-1$.}
 \fromSlide{7}{
  \item If $y=f(x)=e^x-1$ then $y+1=e^x$ so $x=\log(y+1)$.}
 \fromSlide{8}{
  \item If $y\in(0,\infty)$ then $y+1>1$, so $\log(y+1)$ is defined
   and strictly greater than $\log(1)=0$.\\%
   \fromSlide{9}{Thus, $g(y)=\log(y+1)$
   gives a well-defined function $g\:(0,\infty)\xra{}(0,\infty)$.}
 }
 \fromSlide{10}{
  \item We have $g(f(x))=\log((e^x-1)+1)=x$ for all $x>0$, and\\
   $f(g(y))=e^{\log(y+1)}-1=y$ for all $y>0$; so $g$ is inverse to $f$.
 }
\end{itemize} 
\end{slide}
}

\overlays{10}{
\begin{slide}{An inverse example}
\begin{itemize}
 \fromSlide{2}{
  \item {\bf Claim:} there are functions
   $(0,\infty)\xra{f}(0,1)\xra{g}(0,\infty)$, inverse to each other,
   given by $f(x)=x/\sqrt{1+x^2}$ and 
   $g(y)=y/\sqrt{1-y^2}$.
 }
 \fromSlide{3}{
  \item If $x>0$, it is clear that $1+x^2>x^2>0$, so
   $\sqrt{1+x^2}>x>0$, so $\sqrt{1+x^2}/x>1$.  This means that
   $0<x/\sqrt{1+x^2}<1$.}
 \fromSlide{4}{
  \item From we see that when $x>0$, the quantity $f(x)$ is
   well-defined and unambigous, and lies in $(0,1)$; so we have
   defined $f\:(0,\infty)\xra{}(0,1)$.}
 \fromSlide{5}{
  \item If $0<y<1$, then $1-y^2>0$, so $y/\sqrt{1-y^2}>0$.}
 \fromSlide{6}{
  \item Thus, $g(y)=y/\sqrt{1-y^2}$ defines a function
   $g\:(0,1)\xra{}(0,\infty)$.}
 \fromSlide{7}{
  \item We have $1+g(y)^2=1+\frac{y^2}{1-y^2}=\frac{1}{1-y^2}$, so
   $(1+g(y)^2)^{-1/2}=\sqrt{1-y^2}$.}
 \fromSlide{8}{
  \item This means that
   $f(g(y))=g(y)(1+g(y)^2)^{-1/2}=\frac{y}{\sqrt{1-y^2}}\sqrt{1-y^2}=y$.}
 \fromSlide{9}{
  \item Similarly
   $g(f(x))=f(x)(1-f(x)^2)^{-1/2}=\frac{x}{\sqrt{1+x^2}}\sqrt{1+x^2}=x$.}
 \fromSlide{10}{
  \item Thus, $f$ is inverse to $g$.}
\end{itemize}
\end{slide}
}

\overlays{11}{%
\begin{slide}{Ranges}
\begin{itemize}
 \fromSlide{2}{
  \item Let $f\:A\xra{}B$ be a function.}
 \fromSlide{3}{
  \item The \DEFN{range} of $A$ is the set 
   $\PURPLE{\text{range(f)}} = \PURPLE{f(A)} =
     \{f(a)\st a\in A\}.
   $} 
 \fromSlide{4}{
  \item Consider $f\:\R\xra{}\R$ given by $f(x)=x^2$. \\
   \fromSlide{5}{The codomain of $f$ is $\R$}%
   \fromSlide{6}{, but the range of $f$ is $[0,\infty)$.}}
 \fromSlide{7}{
  \item Note that usually $f([a,b])\neq[f(a),f(b)]$ \\
   \fromSlide{8}{Indeed, consider $f\:\R\xra{}\R$, $f(x)=x^2-1$, and
     $a=-1$, $b=2$.}\\
   \fromSlide{9}{
    \begin{center}
     \psset{xunit=0.7cm,yunit=0.3cm,linewidth=0.1pt}
     \begin{pspicture}(-1.5,-1.5)(2.5,5.0)
      \psaxes[labels=none]{->}(0,0)(-1.5,-1.5)(2.5,5.0)
      \psplot[linecolor=red]{-1.5}{-1.0}{x x mul -1 add}
      \psplot[linecolor=blue]{-1.0}{+2.0}{x x mul -1 add}
      \psplot[linecolor=red]{+2.0}{+2.5}{x x mul -1 add}
      \psset{linecolor=OliveGreen}
      \psline(-1.0, 0.00)(0, 0.00)
      \psline(-0.8,-0.36)(0,-0.36)
      \psline(-0.6,-0.64)(0,-0.64)
      \psline(-0.4,-0.84)(0,-0.84)
      \psline(-0.2,-0.96)(0,-0.96)
      \psline( 0.0,-1.00)(0,-1.00)
      \psline( 0.2,-0.96)(0,-0.96)
      \psline( 0.4,-0.84)(0,-0.84)
      \psline( 0.6,-0.64)(0,-0.64)
      \psline( 0.8,-0.36)(0,-0.36)
      \psline( 1.0, 0.00)(0, 0.00)
      \psline( 1.2, 0.44)(0, 0.44)
      \psline( 1.4, 0.96)(0, 0.96)
      \psline( 1.6, 1.56)(0, 1.56)
      \psline( 1.8, 2.24)(0, 2.24)
      \psline( 2.0, 3.00)(0, 3.00)
      \psline[linestyle=solid,linewidth=1.5pt,linecolor=green](0,-1)(0,3)
     \end{pspicture}
    \end{center}
   }
   \fromSlide{10}{As $x$ runs from $-1$ to $2$,
     $f(x)$ runs from $0$ down to $-1$ and then up to $3$.}\\
   \fromSlide{11}{Thus, $f([-1,2])=[-1,3]$, whereas
     $[f(-1),f(2)]=[0,3]$}
 } 
\end{itemize}
\end{slide}
}

%%% Add examples of finding ranges

\end{document}
